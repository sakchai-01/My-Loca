<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mystic Revelation | Your Tarot Card</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Specific overrides/additions for the tarot page flip effect */
    .card-flipper {
      transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      transform-style: preserve-3d;
      position: relative;
      width: 100%;
      height: 100%;
    }

    .card-flipper.is-flipped {
      transform: rotateY(180deg);
    }

    .card-front,
    .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 15px;
      overflow: hidden;
      border: 2px solid var(--primary);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .card-back {
      background: #1a0b2e;
    }

    .card-front {
      transform: rotateY(180deg);
    }

    .card-front img,
    .card-back img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #shuffleBtn {
      max-width: 250px;
      margin: 2rem auto 0;
    }
  </style>
</head>

<body>

  <div class="glass-card" style="max-width: 600px;">
    <span class="mystic-ornament">‚úß üîÆ ‚úß</span>
    <h1>Mystic Revelation</h1>
    <div id="tarotCard" class="status-msg"
      style="font-size: 1.2rem; min-height: 2em; margin-top: 1rem; color: var(--primary);">
      The cards are waiting for your touch...
    </div>

    <div class="card-container">
      <div id="cardFlipper" class="card-flipper">
        <div class="card-back">
          <img src="images/card-back.png" alt="Card Back" />
        </div>
        <div class="card-front">
          <img id="cardImage" src="" alt="Revealed Card" />
        </div>
      </div>
    </div>

    <button id="shuffleBtn">Shuffle Cards</button>
  </div>

  <div class="mystic-sanctuary">
    <!-- Game 1: Crystal Ball -->
    <div class="game-card">
      <h3 class="game-title">The Crystal Ball</h3>
      <div class="crystal-ball-container" id="ballTrigger">
        <div class="crystal-ball" id="crystalBall"></div>
        <div class="ball-base"></div>
      </div>
      <div id="ballPrediction" class="status-msg" style="font-size: 0.9rem; color: var(--text-muted);">
        Touch the orb to see your future...
      </div>
    </div>

    <!-- Game 2: Ethereal Flip -->
    <div class="game-card">
      <h3 class="game-title">Ethereal Flip</h3>
      <div class="coin-container" id="coinTrigger">
        <div class="mystic-coin" id="mysticCoin">
          <div class="coin-front">‚òÄÔ∏è</div>
          <div class="coin-back">üåô</div>
        </div>
      </div>
      <div id="coinResult" class="status-msg" style="font-size: 0.9rem; color: var(--text-muted);">
        Sun for Yes, Moon for No.
      </div>
      <button class="game-btn" id="flipBtn">Flip Coin</button>
    </div>

    <!-- Game 3: Celestial Alignment -->
    <div class="game-card">
      <h3 class="game-title">Celestial Numbers</h3>
      <div class="lucky-container" id="luckyNumbers">
        <div class="lucky-number">?</div>
        <div class="lucky-number">?</div>
        <div class="lucky-number">?</div>
      </div>
      <div id="celestialHour" class="status-msg"
        style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.5rem;">
        Find your lucky path...
      </div>
      <button class="game-btn" id="alignBtn">Align Numbers</button>
    </div>

    <!-- Game 4: Aura Scanner -->
    <div class="game-card">
      <h3 class="game-title">Aura Scanner</h3>
      <div class="scanner-container" id="auraTrigger">
        <div class="scanner-ring"></div>
        <div class="aura-dot" id="auraDot"></div>
      </div>
      <div id="auraStatus" class="status-msg" style="font-size: 0.9rem; color: var(--text-muted);">
        Scanning energy field...
      </div>
      <button class="game-btn" id="scanBtn">Start Scan</button>
    </div>

    <!-- Game 5: Zodiac Affinity -->
    <div class="game-card">
      <h3 class="game-title">Zodiac Affinity</h3>
      <div class="zodiac-grid">
        <select class="zodiac-select" id="sign1">
          <option value="Aries">Aries ‚ôà</option>
          <option value="Taurus">Taurus ‚ôâ</option>
          <option value="Gemini">Gemini ‚ôä</option>
          <option value="Cancer">Cancer ‚ôã</option>
          <option value="Leo">Leo ‚ôå</option>
          <option value="Virgo">Virgo ‚ôç</option>
          <option value="Libra">Libra ‚ôé</option>
          <option value="Scorpio">Scorpio ‚ôè</option>
          <option value="Sagittarius">Sagittarius ‚ôê</option>
          <option value="Capricorn">Capricorn ‚ôë</option>
          <option value="Aquarius">Aquarius ‚ôí</option>
          <option value="Pisces">Pisces ‚ôì</option>
        </select>
        <select class="zodiac-select" id="sign2">
          <option value="Aries">Aries ‚ôà</option>
          <option value="Taurus">Taurus ‚ôâ</option>
          <option value="Gemini">Gemini ‚ôä</option>
          <option value="Cancer">Cancer ‚ôã</option>
          <option value="Leo">Leo ‚ôå</option>
          <option value="Virgo">Virgo ‚ôç</option>
          <option value="Libra">Libra ‚ôé</option>
          <option value="Scorpio">Scorpio ‚ôè</option>
          <option value="Sagittarius">Sagittarius ‚ôê</option>
          <option value="Capricorn">Capricorn ‚ôë</option>
          <option value="Aquarius">Aquarius ‚ôí</option>
          <option value="Pisces">Pisces ‚ôì</option>
        </select>
      </div>
      <div class="affinity-meter">
        <div class="affinity-fill" id="affinityFill"></div>
      </div>
      <div id="affinityResult" class="status-msg" style="font-size: 0.9rem; color: var(--text-muted);">
        Check cosmic compatibility.
      </div>
      <button class="game-btn" id="checkAffinity">Check Affinity</button>
    </div>

    <!-- Game 6: Mystical Pendulum -->
    <div class="game-card">
      <h3 class="game-title">Mystical Pendulum</h3>
      <div class="pendulum-area">
        <div class="pendulum-string" id="pendulum">
          <div class="pendulum-weight" id="pendulumWeight"></div>
        </div>
      </div>
      <div id="pendulumResult" class="status-msg" style="font-size: 0.9rem; color: var(--text-muted);">
        Ask and release to the void...
      </div>
      <button class="game-btn" id="askPendulum">Ask Pendulum</button>
    </div>
  </div>

  <script>
    const cards = [
      "0 - The Fool", "I - The Magician", "II - The High Priestess", "III - The Empress",
      "IV - The Emperor", "V - The Hierophant", "VI - The Lovers", "VII - The Chariot",
      "VIII - Strength", "IX - The Hermit", "X - Wheel of Fortune", "XI - Justice",
      "XII - The Hanged Man", "XIII - Death", "XIV - Temperance", "XV - The Devil",
      "XVI - The Tower", "XVII - The Star", "XVIII - The Moon", "XIX - The Sun",
      "XX - Judgement", "XXI - The World",
      "Ace of Wands", "2 of Wands", "3 of Wands", "4 of Wands", "5 of Wands",
      "6 of Wands", "7 of Wands", "8 of Wands", "9 of Wands", "10 of Wands",
      "Page of Wands", "Knight of Wands", "Queen of Wands", "King of Wands",
      "Ace of Cups", "2 of Cups", "3 of Cups", "4 of Cups", "5 of Cups",
      "6 of Cups", "7 of Cups", "8 of Cups", "9 of Cups", "10 of Cups",
      "Page of Cups", "Knight of Cups", "Queen of Cups", "King of Cups",
      "Ace of Swords", "2 of Swords", "3 of Swords", "4 of Swords", "5 of Swords",
      "6 of Swords", "7 of Swords", "8 of Swords", "9 of Swords", "10 of Swords",
      "Page of Swords", "Knight of Swords", "Queen of Swords", "King of Swords",
      "Ace of Pentacles", "2 of Pentacles", "3 of Pentacles", "4 of Pentacles", "5 of Pentacles",
      "6 of Pentacles", "7 of Pentacles", "8 of Pentacles", "9 of Pentacles", "10 of Pentacles",
      "Page of Pentacles", "Knight of Pentacles", "Queen of Pentacles", "King of Pentacles"
    ];

    let intervalId = null;
    let currentIndex = 0;
    let shuffling = false;

    const shuffleBtn = document.getElementById('shuffleBtn');
    const tarotCard = document.getElementById('tarotCard');
    const cardFlipper = document.getElementById('cardFlipper');
    const cardImage = document.getElementById('cardImage');

    function cardNameToFileName(name) {
      const numberWords = { '2': 'Two', '3': 'Three', '4': 'Four', '5': 'Five', '6': 'Six', '7': 'Seven', '8': 'Eight', '9': 'Nine', '10': 'Ten' };
      const majorArcanaRegex = /^(0|I{1,3}|IV|V|VI{0,3}|VII{0,3}|VIII|IX|X|XI|XII|XIII|XIV|XV|XVI|XVII|XVIII|XIX|XX|XXI) - (.+)$/;
      const match = name.match(majorArcanaRegex);
      let filename = match ? `${match[1]}-${match[2]}` : name.split(' ').map(w => numberWords[w] || w).join('-');
      return filename.replace(/[^\w\-]/g, '') + '.jpg';
    }

    function replaceNumbersWithWords(text) {
      const replacements = { '2': 'Two', '3': 'Three', '4': 'Four', '5': 'Five', '6': 'Six', '7': 'Seven', '8': 'Eight', '9': 'Nine', '10': 'Ten' };
      return text.split(' ').map(word => replacements[word] || word).join(' ');
    }

    function shuffleStep() {
      currentIndex = Math.floor(Math.random() * cards.length);
      tarotCard.textContent = 'üîí Shuffling the cosmic deck...';
    }

    function startShuffle() {
      shuffling = true;
      cardFlipper.classList.remove('is-flipped');
      shuffleBtn.textContent = 'Stop & Reveal';
      intervalId = setInterval(shuffleStep, 80);
      cardFlipper.classList.add('shuffling');
    }

    function stopShuffle() {
      clearInterval(intervalId);
      shuffling = false;
      cardFlipper.classList.remove('shuffling');
      shuffleBtn.disabled = true;
      shuffleBtn.textContent = 'Revealing...';

      const selectedCard = cards[currentIndex];
      const displayCard = replaceNumbersWithWords(selectedCard);

      cardImage.src = 'images/' + cardNameToFileName(selectedCard);

      cardImage.onload = () => {
        cardFlipper.classList.add('is-flipped');
        setTimeout(() => {
          tarotCard.innerHTML = `‚ú® <strong style="color:white; font-size: 1.5rem;">${displayCard}</strong> ‚ú®`;
          shuffleBtn.disabled = false;
          shuffleBtn.textContent = 'Shuffle Again';
        }, 600);
      };

      cardImage.onerror = () => {
        cardFlipper.classList.add('is-flipped');
        tarotCard.innerHTML = `‚ú® <strong>${displayCard}</strong> ‚ú® (Image not found)`;
        shuffleBtn.disabled = false;
        shuffleBtn.textContent = 'Shuffle Again';
      };
    }

    shuffleBtn.addEventListener('click', () => {
      if (!shuffling) startShuffle();
      else stopShuffle();
    });

    // --- Crystal Ball Game ---
    const predictions = [
      "A surprise visitor is coming.",
      "Trust your intuition today.",
      "An old friend will reach out.",
      "Good news is on the horizon.",
      "Be patient; the path is clearing.",
      "A small risk will pay off.",
      "Focus on your inner peace.",
      "The answer you seek is 'Yes'.",
      "Expect the unexpected.",
      "Happiness is within reach."
    ];

    const ballTrigger = document.getElementById('ballTrigger');
    const crystalBall = document.getElementById('crystalBall');
    const ballPrediction = document.getElementById('ballPrediction');

    ballTrigger.addEventListener('click', () => {
      crystalBall.classList.add('glowing');
      ballPrediction.textContent = "Gazing deep into the mist...";

      setTimeout(() => {
        const rand = Math.floor(Math.random() * predictions.length);
        ballPrediction.innerHTML = `üîÆ <strong style="color:var(--primary)">${predictions[rand]}</strong>`;
        crystalBall.classList.remove('glowing');
      }, 1500);
    });

    // --- Ethereal Flip Game ---
    const flipBtn = document.getElementById('flipBtn');
    const mysticCoin = document.getElementById('mysticCoin');
    const coinResult = document.getElementById('coinResult');
    let isFlipped = false;

    flipBtn.addEventListener('click', () => {
      flipBtn.disabled = true;
      mysticCoin.classList.add('coin-flipping');
      coinResult.textContent = "Spinning through space...";

      setTimeout(() => {
        mysticCoin.classList.remove('coin-flipping');
        const outcome = Math.random() > 0.5;
        isFlipped = outcome;
        mysticCoin.style.transform = isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)';
        coinResult.innerHTML = `‚ú® Outcome: <strong style="color:white">${isFlipped ? 'Moon (No)' : 'Sun (Yes)'}</strong>`;
        flipBtn.disabled = false;
      }, 1200);
    });

    // --- Celestial Numbers ---
    const alignBtn = document.getElementById('alignBtn');
    const luckyNumbersContainer = document.getElementById('luckyNumbers');
    const celestialHour = document.getElementById('celestialHour');

    alignBtn.addEventListener('click', () => {
      alignBtn.disabled = true;
      luckyNumbersContainer.innerHTML = '';
      celestialHour.textContent = "Calculating star positions...";

      setTimeout(() => {
        for (let i = 0; i < 3; i++) {
          const num = Math.floor(Math.random() * 99) + 1;
          const div = document.createElement('div');
          div.className = 'lucky-number reveal';
          div.style.animationDelay = `${i * 0.2}s`;
          div.textContent = num;
          luckyNumbersContainer.appendChild(div);
        }

        const hours = ["Morning Mist (07:00)", "High Zenith (12:00)", "Golden Hour (17:00)", "Midnight Moon (00:00)"];
        const randHour = hours[Math.floor(Math.random() * hours.length)];
        celestialHour.innerHTML = `‚≠ê Lucky Hour: <strong style="color:white">${randHour}</strong>`;
        alignBtn.disabled = false;
      }, 1000);
    });

    // --- Aura Scanner ---
    const auras = [
      { color: '#e74c3c', name: 'Crimson Power', meaning: 'High energy and strong determination.' },
      { color: '#3498db', name: 'Azure Serenity', meaning: 'Calm mind and spiritual alignment.' },
      { color: '#f1c40f', name: 'Golden Wisdom', meaning: 'Gleaning clarity from the universe.' },
      { color: '#9b59b6', name: 'Ametyst Mystic', meaning: 'Deep intuition and hidden potential.' },
      { color: '#2ecc71', name: 'Jade Growth', meaning: 'Renewal and healing energies present.' }
    ];

    const scanBtn = document.getElementById('scanBtn');
    const auraTrigger = document.getElementById('auraTrigger');
    const auraDot = document.getElementById('auraDot');
    const auraStatus = document.getElementById('auraStatus');

    scanBtn.addEventListener('click', () => {
      scanBtn.disabled = true;
      auraTrigger.parentElement.classList.add('scanning');
      auraStatus.textContent = "Detecting spiritual frequency...";

      setTimeout(() => {
        auraTrigger.parentElement.classList.remove('scanning');
        const randAura = auras[Math.floor(Math.random() * auras.length)];
        auraDot.style.background = randAura.color;
        auraDot.style.opacity = '1';
        auraStatus.innerHTML = `‚ú® Aura: <strong style="color:${randAura.color}">${randAura.name}</strong><br><small>${randAura.meaning}</small>`;
        scanBtn.disabled = false;
      }, 2500);
    });

    // --- Zodiac Affinity ---
    const checkBtn = document.getElementById('checkAffinity');
    const affinityFill = document.getElementById('affinityFill');
    const affinityResult = document.getElementById('affinityResult');

    checkBtn.addEventListener('click', () => {
      checkBtn.disabled = true;
      affinityFill.style.width = '0%';
      affinityResult.textContent = "Analyzing star positions...";

      setTimeout(() => {
        const score = Math.floor(Math.random() * 61) + 40; // 40-100%
        affinityFill.style.width = score + '%';
        let comment = score > 80 ? "Soulbond Connection!" : score > 60 ? "Strong Harmony." : "Casual Resonance.";
        affinityResult.innerHTML = `‚ù§Ô∏è Cosmic Bond: <strong style="color:white">${score}%</strong><br>${comment}`;
        checkBtn.disabled = false;
      }, 1500);
    });

    // --- Mystical Pendulum ---
    const askBtn = document.getElementById('askPendulum');
    const pendulum = document.getElementById('pendulum');
    const pendulumResult = document.getElementById('pendulumResult');

    askBtn.addEventListener('click', () => {
      askBtn.disabled = true;
      pendulum.classList.add('pendulum-swinging');
      pendulumResult.textContent = "The universe is considering...";

      setTimeout(() => {
        pendulum.classList.remove('pendulum-swinging');
        const roll = Math.random();
        let answer, degree;
        if (roll > 0.6) { answer = "Clear Yes"; degree = 30; }
        else if (roll > 0.3) { answer = "Doubtful No"; degree = -30; }
        else { answer = "Maybe / Uncertain"; degree = 0; }

        pendulum.style.transform = `rotate(${degree}deg)`;
        pendulumResult.innerHTML = `‚öñÔ∏è Guidance: <strong style="color:white">${answer}</strong>`;
        askBtn.disabled = false;
      }, 2500);
    });
  </script>


</body>

</html>
